<!-- <!DOCTYPE html>
<html>
	<head>
		<title>Sus website.cpp</title>
		<style>
			body {
				background-color: rgb(0, 0, 0);
				display: flex;
			}
		</style>
	</head>
	<body>
		<canvas id="ctx" width="500" height="500"></canvas>
		<script>
			var ctx = document.getElementById("ctx").getContext("2d");
			// [x, y]
			var pos = [50, 250];
			// Enemy pos
			//var objX = [0, 0, 0, 0, 0] // x
			var obj = [
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0],
				[0, 0, 0, 0, 0]
			]
			var numobjs = 0;
			var turn = 0;
			document.onkeydown = function(e) {
				switch(e.keycode) {
					case 37: // left
						move(-1, 0, 0);
						break;
					case 38: // up
						move(0, 1, 0);
						break;
					case 39: // right
						move(1, 0, 0);
						break;
					case 40: // down
						move(0, -1, 0);
						break;
				}
			}
			let infested = 0;
			function applyData() {
				if(infested == 0) {
					if(turn == 1) {
						move(0, 0, 1);
					}
					render();
				} else {
					gameover();
				}
			}
			function move(x, y, t) {
				if(t == 0) {
					turn = 1;
					pos[0] += x;
					pos[1] += y;
					if(pos[0] == -1) {pos[0] = 0}
					if(pos[0] == 5) {pos[0] = 4}
					if(pos[1] == -1) {pos[0] = 0}
					if(pos[1] == 5) {pos[1] = 4}
					for(let i=0; i<5; i++) {
						for(let j=0; j<5; j++) {
							if(obj[i, j] == 1) {gameover();}
						}
					}
				} else {
					turn = 0;
					// down
					obj[4][0]=0; obj[4][1]=0; obj[4][2]=0; obj[4][3]=0; obj[4][4]=0;
					for(let i=0; i<5; i++) {
						obj[4][i] = obj[3][i];
						obj[3][i] = 0;
					}
					for(let i=0; i<5; i++) {
						obj[3][i] = obj[2][i]; // HERE HERE HERE HERE HERE HERE HERE HERE HERE HERE HERE HERE HERE HERE
						obj[2][i] = 0;
					}
					for(let i=0; i<5; i++) {
						obj[2][i] = obj[1][i];
						obj[1][i] = 0;
					}
					for(let i=0; i<5; i++) {
						obj[1][i] = obj[0][i];
						obj[0][i] = 0;
					}
					// infest
					for(let i=0; i<5; i++) {
						if(Math.floor(Math.random()*10)%2 == 0) {
							obj[0][i] = 1;
						}
					}
				}
			}
			function render() {
				ctx.fillStyle = "rgb(50, 50, 50)";
				ctx.fillRect(0, 0, 500, 500);
				for(let i=0; i<5; i++) {
					for(let j=0; j<5; j++) {
						if(obj[i][j] == 0) {ctx.fillStyle = "rgb(0, 0, 0)";} else {ctx.fillStyle = "rgb(200, 200, 200)";}
						ctx.fillRect(i*100, i*100, i*100 + 100, i*100 + 100);
					}
				}
				ctx.fillStyle = "rgb(100, 100, 250)";
				ctx.fillRect(0, 0, 100, 100);
			}
			function gameover() {
				infested = 1;
				// code here
				ctx.fillStyle = "rgb(0, 0, 0)";
				ctx.fillRect(0, 0, 500, 500);
				ctx.filflStyle = "rgb(255, 255, 255)";
				ctx.fillText("Taken down", 0, 0, 50);
			}
			// main loop
			//setInterval(applyData(), 10);
			render();
		</script>
	</body>
</html> -->




<!DOCTYPE html>
<html>
	<head>
        <title>
            Gnarly Pong
        </title>
   <style>
        * {
            font-family: monospace, sans-serif;
        }
        body {
            text-align: center;
            background-color: ghostwhite;
        }
   </style>
	</head>
	<body>
        <h1>Gnarly Pong</h1>
        <p>Use the [W] and [S] keys to control the paddle</p>
        <a href="index.html" title="go back to the main page">Go back</a>
        <br>
        <canvas id="ctx" width="500" height="500"></canvas>
        <script>
            var ctx = document.getElementById("ctx").getContext("2d");
            ctx.fillStyle = "rgb(72, 61, 139)";
            ctx.fillRect(0, 0, 500, 500);

            ctx.fillStyle = "rgb(248, 248, 255)";
            ctx.font = "15px Monospace";
            ctx.fillText("Press [Space] to start", 170, 250);

            playerX = 75;
            playerY = 230;

            squareX = 245;
            squareY = 100;
            squareSpX = 5;
            squareSpY = 5;
            var gameLoop = 0;
            hp = 10;
            score = 0;
            const neinHp = ["Oof!", "Kaboom!", "Ouch!", "Kaboom!", "Ouch!", "Oof!", "Oof!", "Kaboom!", "Ouch!"];
            neinHpIndex = -1;
            milsToDel = 0;
            neinHpY = 0;
            neinHpX = 0;
            window.onkeypress = function(event) {
                if(event.which == 32) {
                    if(gameLoop == 0) {
                        ctx.fillStyle = "rgb(72, 61, 139)";
                        ctx.fillRect(0, 0, 500, 500);

                        gameLoop = 1;

                        setInterval(moveBall, 25);
                        setInterval(updateScreen, 1);
                    }
                } else {
                    if(gameLoop == 1) {
                        movePlayer(event.which);
                    }
                }
            }

            function updateScreen() {
                if(gameLoop == 1) {
                    ctx.fillStyle = "rgb(72, 61, 139)";
                    ctx.fillRect(0, 0, 500, 500);
                    ctx.fillStyle = "rgb(248, 248, 255)";
                    ctx.fillRect(playerX, playerY, 10, 50);
                    ctx.fillRect(squareX, squareY, 10, 10);
                    ctx.font = "15px Monospace";
                    ctx.fillText("HP: " + hp, 15, 25);
                    ctx.fillText("Score: " + score, 15, 45);
                    if(milsToDel > 0) {
                        ctx.font = "15px Monospace";
                        ctx.fillStyle = "rgb(248, 248, 255)";
                        ctx.fillText(neinHp[neinHpIndex], neinHpX, neinHpY);
                    }
                }
            }

            function movePlayer(e) {
                if(e == 119) {
                    playerY -= 10;
                    if(playerY == -10) {
                        playerY = 0;
                    }
                } else {
                    if(e == 115) {
                        playerY += 10;
                        if(playerY == 460) {
                            playerY = 450;
                        }
                    }
                }
            }

            function moveBall() {
                if(milsToDel > 0) {
                    milsToDel -= 1;
                }
                squareX += squareSpX;
                squareY += squareSpY;
                if(squareX == 495) {
                    squareSpX = -5;
                }
                if(squareX == 0) {
                    squareSpX = 5;
                    hp -= 1;
                    neinHpIndex += 1;
                    milsToDel = 20;
                    neinHpX = squareX + 10;
                    neinHpY = squareY;
                    if(hp == 0) {
                        gameLoop = 2;
                        ctx.fillStyle = "rgb(72, 61, 139)";
                        ctx.fillRect(0, 0, 500, 500);
                        ctx.fillStyle = "rgb(255, 130, 130)";
                        ctx.font = "50px Monospace";
                        ctx.fillText("Game Over", 125, 250);
                        ctx.font = "15px Monospace";
                        ctx.fillStyle = "rgb(248, 248, 255)";
                        ctx.fillText("Please reload to play again", 135, 280);
                        ctx.fillStyle = "rgb(248, 248, 255)";
                        ctx.fillText("Score: " + score, 15, 25);
                    }
                }
                if(squareY == 495) {
                    squareSpY = -5;
                }
                if(squareY == 0) {
                    squareSpY = 5;
                }
                if((squareX == 80 || squareX == 70) && squareY < playerY + 51 && squareY > playerY - 10) {
                    score += 1;
                    if(squareSpX == -5) {
                        squareSpX = 5;
                    } else {
                        squareSpX = -5;
                    }
                }
            }
        </script>
	</body>
</html>
